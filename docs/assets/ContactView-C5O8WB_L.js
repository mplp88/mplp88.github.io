import{r as t,c as r,a,b as C,d as E,t as V,w as b,v as y,n as k,e as U,F as S,o as u}from"./index-HT9jEJPb.js";const B={key:0,class:"alert alert-success my-3"},T={key:1,class:"alert alert-danger my-3"},D={key:2,class:"alert alert-info"},F={key:3,class:"card p-3 shadow"},I={class:"form-floating mb-3"},$={class:"form-floating mb-3"},h={class:"invalid-feedback"},z={class:"form-floating mb-3"},R={__name:"ContactView",setup(J){const d=t(!1),c=t(!1),v=t(""),o=t(!1),m=t(!0),f=t(!0),p=t(!0),g=t("Campo requerido"),s=t({name:"",email:"",message:""}),w=()=>{if(!x())return;o.value=!1,d.value=!0,fetch("http://localhost:3000/email",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)}).then(e=>e.json()).then(()=>{s.value={name:"",email:"",message:""},d.value=!1,c.value=!0}).catch(e=>{d.value=!1,v.value=e.message,console.error(e.data)})},x=()=>{o.value=!0,m.value=!0,p.value=!0,f.value=!0;const{name:i,email:e,message:l}=s.value;let n=!0;n=n&&i&&l,i||(m.value=!1),l||(p.value=!1);const j=M(e);return n=n&&j,n},M=i=>{const e=new RegExp(/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g);let l=!0;return i.length||(l=!1,g.value="Campo requerido"),l&&!e.test(i)&&(l=!1,g.value="Ingrese un email vÃ¡lido"),f.value=l,l},q=()=>{v.value=""},N=()=>{c.value=!1};return(i,e)=>(u(),r(S,null,[e[12]||(e[12]=a("h1",null,"Contacto",-1)),c.value?(u(),r("div",B,[e[4]||(e[4]=C(" Mensaje enviado correctamente. ")),a("span",{style:{cursor:"pointer",float:"right"},onClick:N},e[3]||(e[3]=[a("i",{class:"fa-solid fa-xmark"},null,-1)]))])):E("",!0),v.value?(u(),r("div",T,[C(V(v.value)+" ",1),a("span",{style:{cursor:"pointer",float:"right"},onClick:q},e[5]||(e[5]=[a("i",{class:"fa-solid fa-xmark"},null,-1)]))])):E("",!0),d.value?(u(),r("div",D,"Enviando...")):(u(),r("div",F,[a("form",{class:"needs-validation",onSubmit:U(w,["prevent"]),novalidate:""},[a("div",I,[b(a("input",{class:k(["form-control",{"is-invalid":o.value&&!m.value,"is-valid":o.value&&m.value}]),id:"nombre",type:"text",placeholder:"Nombre","onUpdate:modelValue":e[0]||(e[0]=l=>s.value.name=l),required:""},null,2),[[y,s.value.name,void 0,{trim:!0}]]),e[6]||(e[6]=a("label",{for:"nombre"},"Nombre",-1)),e[7]||(e[7]=a("small",{class:"invalid-feedback"},"Campo requerido",-1))]),a("div",$,[b(a("input",{class:k(["form-control",{"is-invalid":o.value&&!f.value,"is-valid":o.value&&f.value}]),type:"email",placeholder:"Email","onUpdate:modelValue":e[1]||(e[1]=l=>s.value.email=l),required:""},null,2),[[y,s.value.email,void 0,{trim:!0}]]),e[8]||(e[8]=a("label",{for:"email"},"Email",-1)),a("small",h,V(g.value),1)]),a("div",z,[b(a("textarea",{class:k(["form-control",{"is-invalid":o.value&&!p.value,"is-valid":o.value&&p.value}]),placeholder:"Mensaje...","onUpdate:modelValue":e[2]||(e[2]=l=>s.value.message=l),required:""},null,2),[[y,s.value.message,void 0,{trim:!0}]]),e[9]||(e[9]=a("label",{for:"nombre"},"Mensaje",-1)),e[10]||(e[10]=a("small",{class:"invalid-feedback"},"Campo requerido",-1))]),e[11]||(e[11]=a("div",null,[a("button",{class:"btn btn-primary"},"Enviar")],-1))],32)]))],64))}};export{R as default};
